(function(j){var c,n;c={inherit:function(d){if(Object&&Object.create)return Object.create(d);var a=function(){};a.prototype=d;return new a}};var p="Boolean Number String Function Array Date RegExp Object Error".split(" "),l=0;c.class2type={};for(l=0;l<p.length;l++)c.class2type["[object "+p[l]+"]"]=p[l].toLowerCase();p=l=void 0;c.toString=c.class2type.toString;try{c.ie678=!!j.VBArray}catch(B){}c.extend=function(){var d,a,b,h,e,g=arguments[0]||{},f=1,i=arguments.length,j=!1;"boolean"===typeof g&&(j=
g,g=arguments[f]||{},f++);"object"!==typeof g&&!c.type(g,"function")&&(g={});f===i&&(g=this,f--);for(;f<i;f++)if(null!==(d=arguments[f])&&void 0!==d)for(a in d)b=g[a],h=d[a],g!==h&&(j&&h&&(c.is.plainObject(h)||(e=c.type(h,"array")))?(e?(e=!1,b=b&&c.type(b,"array")?b:[]):b=b&&c.is.plainObject(b)?b:{},g[a]=c.extend(j,b,h)):void 0!==h&&(g[a]=h));return g};c.now=function(){return(new Date).getTime()};c.time=function(){return parseInt(c.now()/1E3)};c.type=function(d,a){var b;if("string"==typeof a){if(a=
c.type.str[a]?c.type.str[a]:a,a=a.toLowerCase(),c.typeExtendArray[a]&&c.type(c.typeExtendArray[a],"function"))return c.typeExtendArray[a](d)}else a=!1;if(null===d||void 0===d)b=d+"";else if("undefined"===typeof d)b="undefined";else try{b="object"===typeof d||"function"===typeof d?c.class2type[c.toString.call(d)]||"object":typeof d}catch(h){d="object"}b=(b||"undefined").toLowerCase();a?b=b===a||!1:"object"===b?c.each(c.typeExtendArray,function(a,c){b=c(d)?a:b}):"string"===b&&(b=c.typeExtendArray.number(d)?
"number":"string");a=d=void 0;return b};c.type.str={};c.typeExtendArray=c.inherit(null);c.typeExtendArray.window=function(d){return void 0!==d&&d===d.window};c.typeExtendArray.global=function(d){return void 0!==d&&d===d.global};c.typeExtendArray.jqdom=function(d){var a=!1;try{a=$&&0<$($((j.window||j).document).find(d)).length}catch(b){}return a};c.typeExtendArray.number=c.typeExtendArray.numeric=function(d){return("string"===typeof d||"number"===typeof d)&&!c.is.array(d)&&0<=d-parseFloat(d)};c.each=
function(d,a,b,h){if(!("object"!==typeof d&&"function"!==typeof d)){var e,g=0,f=d.length;e=c.type(d,"array");if(!0===b)if(e)for(;g<f&&!(e=a.call(h,g,d[g]),!1===e);g++);else for(g in d){if(e=a.call(h,g,d[g]),!1===e)break}else if(b)if(e)for(;g<f&&!(e=a.apply(d[g],b),!1===e);g++);else for(g in d){if(e=a.apply(d[g],b),!1===e)break}else if(e)for(;g<f&&!(e=a.call(d[g],g,d[g]),!1===e);g++);else for(g in d)if(e=a.call(d[g],g,d[g]),!1===e)break;return d}};c.is=c.inherit(null);c.is.type=function(){return c.type.apply(c.type,
arguments)};c.each("undefined string boolean function array object error number int money window global jqdom".split(" "),function(d,a){c.is[a]=function(b){return c.type(b,a)}});c.is.numeric=c.is.number;c.is.money=function(d){return/^[0-9]{1}\d*(\.\d{1,2})?$/.test(d)||!1};c.is.emptyObject=function(d){for(var a in d)return!1;return!0};c.is.empty=function(d){return!d||c.is.array(d)&&0===d.length};c.is.set=function(d){return void 0!==d};c.is.plainObject=function(d){var a={}.hasOwnProperty,b;if(!d||"object"!==
c.type(d)||d.nodeType||c.is.window(d))return!1;try{if(d.constructor&&!a.call(d,"constructor")&&!a.call(d.constructor.prototype,"isPrototypeOf"))return!1}catch(h){return!1}if({}.ownLast)for(b in d)return a.call(d,b);for(b in d);return void 0===b||a.call(d,b)};c.trim=function(d){return(d||"").replace(/(^\s*)|(\s*$)/g,"")};c.clone=function(d,a){if(!(d&&"object"==typeof d))return d;a="object"===typeof a?a:c.type(d,"array")?[]:c.inherit(null);c.extend(!0,a,d);return a};c.type.str={undefined:c.type(void 0),
string:c.type("string"),"boolean":c.type(!0),functionstr:c.type(function(){}),array:c.type([]),object:c.type({})};c.get=c.inherit(null);c.get.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){var a=16*Math.random()|0;return("x"==d?a:a&3|8).toString(16)})};c.get.rand=function(d,a){var b=0;switch(arguments.length){case 0:d=0;a=1E3;break;case 1:d=parseInt(d);d=0<d?d:4;a=Math.pow(10,d)-1;d=Math.pow(10,d-1);break;case 2:d=c.is.numeric(d)?d:0,a=c.is.numeric(a)?a:1E3}b=
d+parseFloat(Math.round(Math.random()*(a-d)));a=d=void 0;return b};c.get.dataByKey=function(d,a){var b={};b.keys=d;b.data=c.is.object(a)?a:c.inherit(null);a=d=void 0;b.keys=APP.is.string(b.keys)?b.keys.split(","):b.keys;b.data_out=c.inherit(null);APP.is.array(b.keys)&&(APP.each(b.keys,function(a,d){if(APP.is.array(b.data[d])||APP.is.string(b.data[d])||APP.is.number(b.data[d]))b.data_out[d]=b.data[d]}),b.data=b.data_out);return b=b.data};c.replenish=function(d,a,b){var d=d.toString(),c=a-d.length||
0,e=0,g=d;switch(arguments.length){case 3:break;case 2:b="0";break;default:return g}for(e=0;e<c;e++)g=b.toString()+g.toString();return g};c.formatUrl=function(d){var a={};a.url=(d||"").toString();a.protocol_index=a.url.indexOf("://");a.protocol_delimiter_len=3;a.protocol="";a.hostpath="";a.search_hash="";-1<a.protocol_index?(a.protocol=a.url.substr(0,a.protocol_index+a.protocol_delimiter_len),a.hostpath=a.url.substr(a.protocol_index+a.protocol_delimiter_len)):(a.protocol="",a.hostpath=a.url);a.hash_index=
a.hostpath.indexOf("#");-1<a.hash_index&&(a.search_hash=a.hostpath.substr(a.hash_index)+a.search_hash,a.hostpath=a.hostpath.substr(0,a.hash_index));a.search_index=a.hostpath.indexOf("?");-1<a.search_index&&(a.search_hash=a.hostpath.substr(a.search_index)+a.search_hash,a.hostpath=a.hostpath.substr(0,a.search_index));a.hostpath=c.formatPath(a.hostpath);return a=a.url=a.protocol+a.hostpath+a.search_hash};c.formatPath=function(d){var a={};a.path=d;a.is_window=-1<a.path.indexOf("\\");a.path=a.path.replace(/\\/g,
"/");a.delimiter_d="//";for(a.delimiter_len=a.delimiter_d.length;-1<(a.pos=a.path.indexOf(a.delimiter_d));)a.path=a.path.replace(a.delimiter_d,"/");a.delimiter_d="/./";for(a.delimiter_len=a.delimiter_d.length;-1<(a.pos=a.path.indexOf(a.delimiter_d));)a.path=a.path.replace(a.delimiter_d,"/");a.parent_d="/../";for(a.parent_len=4;-1<(a.pos=a.path.indexOf(a.parent_d));)a.path_after=a.path.substr(a.pos+a.parent_len),a.path_before=a.path.substr(0,a.pos),a.pos=a.path_before.lastIndexOf("/"),-1<a.pos&&(a.path_before=
a.path_before.substr(0,a.pos),a.path=a.path_before+"/"+a.path_after);a.is_window&&(a.path=a.path.replace(/\//g,"\\"));return a=a.path};c.mapPath=function(d,a){var b={};b.path=a;b.app_load_url=d;b.pos=b.app_load_url.indexOf("#");-1<b.pos&&(b.app_load_url=b.app_load_url.substr(0,b.pos));b.pos=b.app_load_url.indexOf("?");-1<b.pos&&(b.app_load_url=b.app_load_url.substr(0,b.pos));b.pos=b.app_load_url.lastIndexOf("/");-1<b.pos&&(b.app_load_url=b.app_load_url.substr(0,b.pos));b.path=b.app_load_url+"/"+b.path;
b.parent_d="/../";for(b.parent_len=4;-1<(b.pos=b.path.indexOf(b.parent_d));)b.path_after=b.path.substr(b.pos+b.parent_len),b.path_before=b.path.substr(0,b.pos),b.pos=b.path_before.lastIndexOf("/"),-1<b.pos&&(b.path_before=b.path_before.substr(0,b.pos),b.path=b.path_before+"/"+b.path_after);return b=c.formatUrl(b.path)};c.array=c.inherit(null);c.array.unique=function(d){var a={};a.array=d;a.r=[];a.hash={};for(a.i=0;void 0!=(a.elem=a.array[a.i]);a.i++)a.hash[a.elem]||(a.r.push(a.elem),a.hash[a.elem]=
!0);delete a.i;delete a.array;delete a.hash;return a=a.r};c.array.index=function(d,a){if(!c.is.array(a)||1>a.length)return-1;for(var b=0;b<a.length;b++)if(a[b]===d)return b;return-1};c.array.remove=function(d,a){var b={};b.value=d;b.array=a;b.len=b.array.length;b.i=0;for(b.r=[];b.i<b.len;b.i++)b.array[b.i]!=b.value&&b.r.push(b.array[b.i]);b.array=b.r;delete b.r;delete b.i;delete b.len;delete b.value;return b=b.array};c.toJSON=function(d){if("undefined"!==typeof JSON&&JSON.stringify)return JSON.stringify(d);
var a,b,h=[];switch(c.type(d)){case "undefined":return"undefined";case "null":return"null";case "number":case "boolean":case "date":case "function":return d.toString();case "string":return'"'+d.replace(/([\"\\])/g,"\\$1").replace(/(\n)/g,"\\n").replace(/(\r)/g,"\\r").replace(/(\t)/g,"\\t")+'"';case "array":a=0;for(b=d.length;a<b;a++)c.type(d[a],"function")||h.push(c.toJSON(d[a]));return"["+h.join(",")+"]";case "error":case "object":for(a in d)c.type(d[a],"function")||h.push('"'+a+'":'+c.toJSON(d[a]));
return"{"+h.join(",")+"}";default:return""}};c.parseJSON=function(d){if(void 0===d||null===d)throw Error("Unexpected end of JSON input");if("undefined"!==typeof JSON&&JSON.parse)return JSON.parse(d);var a;a=d.replace(/\\["\\\/bfnrtu]/g,"@");a=a.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]");a=a.replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(a))return eval("("+d+")");throw Error("Unexpected end of JSON input");};"function"===typeof define&&define.amd&&(define(function(){return c}),
n=!0);"object"===typeof module&&"object"===typeof module.exports&&(module.exports=c,n=!0);!0!==n&&(j.cjbbase=c);n=void 0;var u,t;t=u=0;c.createNewPid=function(d){var a;t!==c.time()&&(t=c.time(),u=0);a=t.toString()+(++u).toString();d||(a=parseInt(a,10).toString(36));return a};c.createRequestId=function(){var d,a,b,h,e,g;d=Number(c.createNewPid(!0)).toString(16);a="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";e="";for(g=a.length-1;0<=g;g--)h=a[g],"x"==h&&(b=d.length,h=d?d.charAt(b-1):"x",d=d.substr(0,b-1)),
e=h+e;return a=c.createGuid(e)};c.createGuid=function(d){return(d||"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx").replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:b&3|8).toString(16)})};c.argsToArray=function(d){return Array.prototype.slice.call(d)};c.getBytesLength=function(d){for(var a=0,b,c=0;c<d.length;c++)b=d.charCodeAt(c),127>b?a++:a=128<=b&&2047>=b?a+2:2048<=b&&65535>=b?a+3:a+4;return a};c.rowraw={};c.rowraw._undefined_str="undefined";c.rowraw._r="\r";c.rowraw._n="\n";c.rowraw._rn=
c.rowraw._r+c.rowraw._n;c.rowraw._rn2len=2*c.rowraw._rn.length;c.rowraw.stringify=function(d,a,b,h){void 0===h&&c.type(b,"function")&&(h=b,b=void 0);var e,g="",f=!0;for(e in d)f=!1,g+=e+": "+d[e]+c.rowraw._rn;g+=c.rowraw._rn;f&&(g+=c.rowraw._rn);d=g;c.type(b,"string")&&(d=b+(d.length==c.rowraw._rn2len?"":c.rowraw._rn)+d);if("string"===typeof a)return c.rowraw.stringifyByString(d,a,h);if(typeof Buffer!==c.rowraw._undefined_str&&Buffer.isBuffer&&Buffer.isBuffer(a))return c.rowraw.stringifyByBuffer(d,
a,h);if(typeof Blob!==c.rowraw._undefined_str&&a instanceof Blob)return c.rowraw.stringifyByBlob(d,a,h);throw Error("Unable to parse the recognition input type");};c.rowraw.parse=function(d,a){var b;if("string"===typeof d)return c.rowraw.parseByString(d,a);if(typeof Buffer!==c.rowraw._undefined_str&&Buffer.isBuffer&&Buffer.isBuffer(d))return c.rowraw.parseByBuffer(d,a);if(typeof Blob!==c.rowraw._undefined_str&&d instanceof Blob){if("function"!==typeof a)throw Error("The second argument must have a callback");
return c.rowraw.parseByBlob(d,a)}b=Error("Unable to parse the recognition input type");if("function"!==typeof a)throw b;a(b)};c.rowraw.stringifyByString=function(d,a,b){return c.rowraw.stringifyCb(d+(a||""),b)};c.rowraw.stringifyByBuffer=function(d,a,b){d=new Buffer(d,"utf-8");d=Buffer.concat([d,a]);return c.rowraw.stringifyCb(d,b)};c.rowraw.stringifyByBlob=function(d,a,b){d=new Blob([d,a]);return c.rowraw.stringifyCb(d,b)};c.rowraw.stringifyCb=function(d,a){if("function"===typeof a)a(d);else return d};
c.rowraw.parseChunk=function(d,a,b,c){var e,a=a||{};a.chunk_prev_1=a.chunk_prev_1||null;a.chunk_prev_2=a.chunk_prev_2||null;e=-1;d!=b&&d==c&&(e=a.chunk_prev_2==c?0:1);a.chunk_prev_2=a.chunk_prev_1;a.chunk_prev_1=d;return e};c.rowraw.parseByString=function(d,a){var b,h,e=d.length,g={},f=0,i=[];for(h=0;h<e;h++)if(b=d.charAt(h),b=c.rowraw.parseChunk(b,g,"\r","\n"),1===b)c.rowraw.parseLine(d.substr(f,h-1-f),i),f=h+1;else if(0===b){d=e-1>h?d.substr(h+1):"";break}return c.rowraw.parseHeaderCb("string",
i,d,a)};c.rowraw.parseByBuffer=function(d,a){var b,h,e=d.length,g={},f=0,i=[];for(h=0;h<e;h++)if(b=d[h],b=c.rowraw.parseChunk(b,g,13,10),1===b)c.rowraw.parseLine(d.slice(f,h-1).toString(),i),f=h+1;else if(0===b){d=e-1>h?d.slice(h+1):new Buffer(0);break}return c.rowraw.parseHeaderCb("buffer",i,d,a)};c.rowraw.parseByBlob=function(d,a){var b=d.size,h={},e=0,g=10,f=[],i=!1,j=!1,k=0,m,l,n;l=new FileReader;l.onload=function(s){var r,q,p,s=s.target.result;if(i){if(c.rowraw.parseLine(s.toString(),f),g=e=
k=g+2,i=!1,j){c.rowraw.parseHeaderCb("blob",f,d.slice(e+2),a);b=h=e=g=f=i=j=k=l=n=void 0;return}}else{r=0;for(p=s.length;r<p;r++)if(q=s.charAt(r),m=c.rowraw.parseChunk(q,h,"\r","\n"),1===m){i=!0;g=g-(p-r)-1;e=k;break}else if(0===m){i=j=!0;g=g-(p-r)-1;e=k;break}}e<=b&&(!0!==i&&(e=g,g=e+12),n())};l.onerror=function(b){a(b)};n=function(){e=e||0;g=Math.min(g,b);if(e>b)return!0;try{l.readAsText(d.slice(e,g))}catch(a){throw Error("Failed to read blob");}};n()};c.rowraw.parseHeaderCb=function(d,a,b,h){var e,
d={rawHeaders:a,headers:{},body:b,bodytype:d,type:"unknow"};c.type(a,"array")&&c.type(a[0],"object")&&c.extend.call(d,!0,d,a.shift());e=a.length||0;for(b=0;b<e;b++)d.headers[c.trim(a[b].toLowerCase()).replace(/\-/g,"_")]=c.trim(a[++b].toString()||"");if("function"===typeof h)h(null,d);else return d};c.rowraw.exp=c.inherit(null);c.rowraw.exp.start=/^[A-Z_]+(\/\d\.\d)? /;c.rowraw.exp.request=/^([A-Z_]+) (.+) ([A-Z]+)\/(\d)\.(\d)$/;c.rowraw.exp.status=/^([A-Z]+)\/(\d)\.(\d) (\d{3}) (.*)$/;c.rowraw.exp.header=
/^([^: \t]+):[ \t]*((?:.*[^ \t])|)/;c.rowraw.exp.headerContinue=/^[ \t]+(.*[^ \t])/;c.rowraw.parseLine=function(d,a){var b,h;if(1>a.length&&c.rowraw.exp.start.test(d)){if((b=c.rowraw.exp.status.exec(d))&&b[1])h={type:"response"},h.version=[b[2]||0,b[3]||0],h.protocol=b[1]||"unknow",h.status=b[4]||0,h.statusText=b[5]||"unknow",h.start_source=b[0]||"",a.push(h);else if((b=c.rowraw.exp.request.exec(d))&&b[1])h={type:"request"},h.version=[b[4]||0,b[5]||0],h.protocol=b[3]||"unknow",h.method=b[1]||0,h.path=
b[2]||"unknow",h.start_source=b[0]||"",a.push(h);h=!0}if(!h)if((b=c.rowraw.exp.header.exec(d))&&b[1])a.push(b[1]),a.push(b[2]);else if((b=c.rowraw.exp.headerContinue.exec(d))&&a.length)a[a.length-1]&&(a[a.length-1]+=" "),a[a.length-1]+=b[1]};c.nextTickQueue=[];var k;"undefined"!=typeof process&&"function"==typeof process.nextTick?k=process.nextTick:(c.each(["r","webkitR","mozR","msR","oR"],function(d,a){if(c.type(k,"function"))return!1;k=j[a+"equestAnimationFrame"]}),k=k&&k.bind&&k.bind(j)||j.setImmediate,
c.type(k,"function")||("undefined"==typeof j||j.ActiveXObject||!j.postMessage?k=function(d){setTimeout(d,0)}:(j.addEventListener("message",function(){for(var d=0;d<c.nextTickQueue.length;)try{c.nextTickQueue[d++]()}catch(a){throw c.nextTickQueue=c.nextTickQueue.slice(d),j.postMessage("nextTick!","*"),a;}c.nextTickQueue.length=0},!0),k=function(d){c.nextTickQueue.length||j.postMessage("nextTick!","*");c.nextTickQueue.push(d)})));c.nextTick=k;c.bindFnInit=function(){Function.prototype.bind||(Function.prototype.bind=
function(d){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var a=Array.prototype.slice.call(arguments,1),b=this,c=function(){},e=function(){return b.apply(this instanceof c&&d?this:d,a.concat(Array.prototype.slice.call(arguments)))};c.prototype=this.prototype;e.prototype=new c;return e})};var m=function(){},i=function(){i.init.call(this)},x=function(d,a,b,c){var e,g;if("function"!==typeof b)throw new TypeError('"listener" argument must be a function');
(e=d._events)?(e.newListener&&(d.emit("newListener",a,b.listener?b.listener:b),e=d._events),g=e[a]):(e=d._events=new m,d._eventsCount=0);if(g){if("function"===typeof g?g=e[a]=c?[b,g]:[g,b]:c?g.unshift(b):g.push(b),!g.warned&&(b=void 0===d._maxListeners?i.defaultMaxListeners:d._maxListeners)&&0<b&&g.length>b)g.warned=!0,b=Error("Possible EventEmitter memory leak detected. "+g.length+a+" listeners added. Use emitter.setMaxListeners() to increase limit"),b.name="MaxListenersExceededWarning",b.emitter=
d,b.type=a,b.count=g.length,process.emitWarning(b)}else e[a]=b,++d._eventsCount;return d},y=function(d,a,b){function c(){d.removeListener(a,c);e||(e=!0,b.apply(d,arguments))}var e=!1;c.listener=b;return c},q=function(d,a){for(var b=Array(a);a--;)b[a]=d[a];return b};m.prototype=Object.create(null);i.EventEmitter=i;i.usingDomains=!1;i.prototype._events=void 0;i.prototype._maxListeners=void 0;var z=10;Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return z},set:function(d){z=
d}});i.init=function(){if(!this._events||this._events===Object.getPrototypeOf(this)._events)this._events=new m,this._eventsCount=0;this._maxListeners=this._maxListeners||void 0};i.prototype.setMaxListeners=function(d){if("number"!==typeof d||0>d||isNaN(d))throw new TypeError('"n" argument must be a positive number');this._maxListeners=d;return this};i.prototype.getMaxListeners=function(){return void 0===this._maxListeners?i.defaultMaxListeners:this._maxListeners};i.prototype.emit=function(d){var a,
b,c,e,g,f="error"===d;a=this._this||this;if(b=this._events)f=f&&void 0==b.error;else if(!f)return!1;if(f){a=arguments[1];if(a instanceof Error)throw a;b=Error('Uncaught, unspecified "error" event. ('+a+")");b.context=a;throw b;}b=b[d];if(!b)return!1;f="function"===typeof b;c=arguments.length;switch(c){case 1:if(f)b.call(a);else{f=b.length;b=q(b,f);for(e=0;e<f;++e)b[e].call(a)}break;case 2:e=arguments[1];if(f)b.call(a,e);else{f=b.length;b=q(b,f);for(c=0;c<f;++c)b[c].call(a,e)}break;case 3:e=arguments[1];
c=arguments[2];if(f)b.call(a,e,c);else{f=b.length;b=q(b,f);for(g=0;g<f;++g)b[g].call(a,e,c)}break;case 4:e=arguments[1];c=arguments[2];g=arguments[3];if(f)b.call(a,e,c,g);else{f=b.length;b=q(b,f);for(var i=0;i<f;++i)b[i].call(a,e,c,g)}break;default:e=Array(c-1);for(g=1;g<c;g++)e[g-1]=arguments[g];if(f)b.apply(a,e);else{f=b.length;b=q(b,f);for(c=0;c<f;++c)b[c].apply(a,e)}}return!0};i.prototype.addListener=function(d,a){return x(this,d,a,!1)};i.prototype.on=i.prototype.addListener;i.prototype.prependListener=
function(d,a){return x(this,d,a,!0)};i.prototype.once=function(d,a){if("function"!==typeof a)throw new TypeError('"listener" argument must be a function');this.on(d,y(this,d,a));return this};i.prototype.prependOnceListener=function(d,a){if("function"!==typeof a)throw new TypeError('"listener" argument must be a function');this.prependListener(d,y(this,d,a));return this};i.prototype.removeListener=function(d,a){var b,c,e,f,i;if("function"!==typeof a)throw new TypeError('"listener" argument must be a function');
c=this._events;if(!c)return this;b=c[d];if(!b)return this;if(b===a||b.listener&&b.listener===a)0===--this._eventsCount?this._events=new m:(delete c[d],c.removeListener&&this.emit("removeListener",d,b.listener||a));else if("function"!==typeof b){e=-1;for(f=b.length;0<f--;)if(b[f]===a||b[f].listener&&b[f].listener===a){i=b[f].listener;e=f;break}if(0>e)return this;if(1===b.length){b[0]=void 0;if(0===--this._eventsCount)return this._events=new m,this;delete c[d]}else{f=e+1;for(var j=b.length;f<j;e+=1,
f+=1)b[e]=b[f];b.pop()}c.removeListener&&this.emit("removeListener",d,i||a)}return this};i.prototype.removeAllListeners=function(d){var a;a=this._events;if(!a)return this;if(!a.removeListener)return 0===arguments.length?(this._events=new m,this._eventsCount=0):a[d]&&(0===--this._eventsCount?this._events=new m:delete a[d]),this;if(0===arguments.length){a=Object.keys(a);for(var b=0,c;b<a.length;++b)c=a[b],"removeListener"!==c&&this.removeAllListeners(c);this.removeAllListeners("removeListener");this._events=
new m;this._eventsCount=0;return this}a=a[d];if("function"===typeof a)this.removeListener(d,a);else if(a){do this.removeListener(d,a[a.length-1]);while(a[0])}return this};i.prototype.listeners=function(d){var a=this._events;if(a)if(d=a[d])if("function"===typeof d)d=[d.listener||d];else{for(var a=Array(d.length),b=0;b<a.length;++b)a[b]=d[b].listener||d[b];d=a}else d=[];else d=[];return d};i.listenerCount=function(d,a){return"function"===typeof d.listenerCount?d.listenerCount(a):i.prototype.listenerCount.call(d,
a)};i.prototype.listenerCount=function(d){var a=this._events;if(a){d=a[d];if("function"===typeof d)return 1;if(d)return d.length}return 0};i.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]};c.EventEmitter=i;var f=c.inherit(null);f.queue=function(){return(new f.Queue).push(arguments)};f.Queue=function a(){if(this instanceof f.Queue)c.EventEmitter.init.call(this),this.on("end",function(){c.type(this.destroy,"function")&&this.destroy()}.bind(this)),f.fn.init.call(this),
this.push(c.argsToArray(arguments));else return new a(c.argsToArray(arguments))};f.Queue.prototype=f.e=c.inherit(null);f.e.push=function(){f.fn.push.call(this,c.argsToArray(arguments));return this};f.e.run=function(){if(!f.fn.isInit(this)||!0===this._sys.run)return!1;this.next();return this};f.e.next=function(a){if(!f.fn.isInit(this))return!1;if(a&&c.type(a,"string")){if(-1===(a=c.array.index(a,this._sys.fns_name_index)))return!1;this._sys.lockRun=!1}else void 0!=a&&c.type(a,"number")?(a=parseInt(a||
0),this._sys.lockRun=!1):a=a||this._sys.runIndex||0;return this.nextToTick(a)};f.e.nextToName=function(a){return this.next(a)};f.e.nextToTick=function(a){var b;if(!f.fn.isInit(this))return!1;b=this;c.nextTick(function(){b&&b.nextTo(a);b=a=void 0});setTimeout(function(){b&&b.nextTo(a);b=a=void 0},0)};f.e.nextTo=function(a){if(f.fn.isInit(this)){var b;if(!(void 0!=a&&c.type(a,"number")&&-1<a))return!1;this._sys.uptime=c.now();this._sys.fns_runed_index=[];this._sys.fns_runcall_index=[];for(b=0;b<a;b++)this._sys.fns_runed_index[b]=
!0,this._sys.fns_runcall_index[b]=!0;this._sys.runIndex=a;return f.fn.check.call(this)}};f.e.setThis=function(a){if(!f.fn.isInit(this))return!1;this._this=a;return this};f.e.abort=function(){this.destroy()};f.e.destroy=function(){if(!f.fn.isInit(this))return!1;delete this._sys.init;var a=this;c.nextTick(function(){a&&c.type(a.__destroy,"function")&&a.__destroy();a=void 0});setTimeout(function(){a&&c.type(a.__destroy,"function")&&a.__destroy();a=void 0},0)};f.e.__destroy=function(){var a;if(c.type(this._sys,
"object"))for(a in this._sys)c.class2type.hasOwnProperty.apply(this._sys,[a])&&delete this._sys[a];for(a in this)c.class2type.hasOwnProperty.apply(this,[a])&&delete this[a]};f.e.resolve=function(a){if(!f.fn.isInit(this))return!1;delete this._sys.init;this.emit("success",a)};f.e.reject=function(a,b){if(!f.fn.isInit(this))return!1;if(a&&c.type(a,"object")&&!a.stack)a.stack=Error(a.message||a.error_id||"Unknow Error").stack;else if(a&&(c.type(a,"string")||c.type(a,"number"))){var h=a,a=Error(a.toString()||
"Unknow Error");a.source_msg=h;a.error_id=a.message||"UNKNOW_ERROR"}else if(!a||!a.stack)a=Error("Unknow Error");a.error_id=a.error_id||"UNKNOW_ERROR";try{this.emit("error",a),delete this._sys.init}catch(e){throw b||delete this._sys.init,e._isErrorRejectOnce=!0,e;}};f.e.fail=f.e.error=function(a){return c.type(a,"function")?this.onError(a):this.reject(a)};f.e.success=function(a){return c.type(a,"function")?this.onSuccess(a):this.resolve(a)};f.e.onError=function(a){if(!f.fn.isInit(this))return!1;this.on("error",
a);return this};f.e.onSuccess=function(a){if(!f.fn.isInit(this))return!1;this.on("success",a);return this};f.e.onEnd=function(a){if(!f.fn.isInit(this))return!1;this._sys.isBindEnd||(this._sys.isBindEnd=!0,this.on("success",function(a){this.emit("end",!0,a)}.bind(this)),this.on("error",function(a){this.emit("end",!1,a)}.bind(this)));this.on("end",a);return this};f.e.onerror=f.e.onError;f.e.onsuccess=f.e.onSuccess;f.e.onend=f.e.onEnd;f.e.end=function(a){return c.type(a,"function")?this.onEnd(a):c.type(a,
"object")&&a.name&&a.message&&a.stack?this.reject(a):this.resolve(a)};c.extend.call(f.e,!0,f.e,c.EventEmitter.prototype);f.fn=c.inherit(null);f.fn.init=function(){if(!f.fn.isInit(this)){var a=this._sys=c.inherit(null);a.init=!0;a.run=!1;a.runIndex=0;a.fns=[];a.fns_name_index=[];a.fns_runed_index=[];a.fns_runcall_index=[];a.uptime=c.now();this._this=this}};f.fn.push=function(){f.fn.isInit(this)&&c.each(c.argsToArray(arguments),function(a,b){var h;if(!f.fn.isInit(this))return!1;if(b&&c.type(b,"function")){h=
b.name||void 0;if(!h)try{h=b.toString().replace(/function\s?/mi,"").split("(")[0]}catch(e){h=h||void 0}this._sys.fns[this._sys.fns.length]=b;this._sys.fns_name_index.push(c.trim(h))}else b&&c.type(b,"boolean")?(this._sys.fns[this._sys.fns.length]=b,this._sys.fns_name_index.push(void 0),this._sys.fns_runed_index[a]=!0):b&&c.type(b,"array")&&f.fn.push.apply(this,b)},!0,this)};f.fn.check=function(){var a;if(!f.fn.isInit(this))return!1;a=this;c.nextTick(function(){a&&f.fn.checkRun.call(a);a=void 0});
setTimeout(function(){a&&f.fn.checkRun.call(a);a=void 0},0)};f.fn.checkRun=function(){if(!f.fn.isInit(this))return!1;if(!0!==this._sys.lockRun)for(var a,b=this._sys.runIndex;void 0!=(a=this._sys.fns[b++]);)if(!0===a){this._sys.lockRun=!0;this._sys.runIndex=b;f.fn.checkNextTick(this);break}else c.type(a,"function")&&f.fn.runFn.call(this,b-1,a)};f.fn.runFn=function(a,b){var h,e;if(!f.fn.isInit(this)||(!b||!c.type(b,"function"))||!0===this._sys.fns_runcall_index[a])return!1;this._sys.fns_runcall_index[a]=
!0;h=this;e=this._sys.uptime;try{b.call(this._this,function(b){h&&(f.fn.checkNextByFnRunEnd.call(h,a,e,b),e=h=a=void 0)},function(b){h&&(h.resolve(b),e=h=a=void 0)},function(b){h&&(h.reject(b,!0),e=h=a=void 0)})}catch(g){if(!h)return;e=a=void 0;if(g&&!0===g._isErrorRejectOnce)throw h=void 0,g;h.reject(g);h=void 0}b=void 0};f.fn.checkNext=function(a){if(!f.fn.isInit(this))return!1;for(var b,h=0,e=!0,h=0;h<this._sys.runIndex;h++)b=this._sys.fns_runed_index[h]||!1,!0!==b&&c.type(this._sys.fns[h],"boolean")&&
(b=!0),e=e&&b&&!0||!1;e&&(this._sys.lockRun=!1,void 0!=a?this.next(a):f.fn.check.call(this))};f.fn.checkNextByFnRunEnd=function(a,b,c){if(!f.fn.isInit(this))return!1;b===this._sys.uptime&&(this._sys.fns_runed_index[a]=!0,f.fn.checkNext.call(this,c))};f.fn.checkNextTick=function(a){if(!f.fn.isInit(a))return!1;c.nextTick(function(){if(!f.fn.isInit(a))return!1;f.fn.checkNext.call(a);a=void 0})};f.fn.isInit=function(a){return a&&a._sys&&c.type(a._sys,"object")&&!0===a._sys.init?!0:!1};c.queue=function(){return f.queue.apply(f.queue,
arguments)};var v=function(){return RegExp(/(.*?)\.?([^\.]*?)\.?(com|net|org|biz|ws|in|me|co\.uk|co|org\.uk|ltd\.uk|plc\.uk|me\.uk|edu|mil|br\.com|cn\.com|eu\.com|hu\.com|no\.com|qc\.com|sa\.com|se\.com|se\.net|us\.com|uy\.com|ac|co\.ac|gv\.ac|or\.ac|ac\.ac|af|am|as|at|ac\.at|co\.at|gv\.at|or\.at|asn\.au|com\.au|edu\.au|org\.au|net\.au|id\.au|be|ac\.be|adm\.br|adv\.br|am\.br|arq\.br|art\.br|bio\.br|cng\.br|cnt\.br|com\.br|ecn\.br|eng\.br|esp\.br|etc\.br|eti\.br|fm\.br|fot\.br|fst\.br|g12\.br|gov\.br|ind\.br|inf\.br|jor\.br|lel\.br|med\.br|mil\.br|net\.br|nom\.br|ntr\.br|odo\.br|org\.br|ppg\.br|pro\.br|psc\.br|psi\.br|rec\.br|slg\.br|tmp\.br|tur\.br|tv\.br|vet\.br|zlg\.br|br|ab\.ca|bc\.ca|mb\.ca|nb\.ca|nf\.ca|ns\.ca|nt\.ca|on\.ca|pe\.ca|qc\.ca|sk\.ca|yk\.ca|ca|cc|ac\.cn|com\.cn|edu\.cn|gov\.cn|org\.cn|bj\.cn|sh\.cn|tj\.cn|cq\.cn|he\.cn|nm\.cn|ln\.cn|jl\.cn|hl\.cn|js\.cn|zj\.cn|ah\.cn|gd\.cn|gx\.cn|hi\.cn|sc\.cn|gz\.cn|yn\.cn|xz\.cn|sn\.cn|gs\.cn|qh\.cn|nx\.cn|xj\.cn|tw\.cn|hk\.cn|mo\.cn|cn|cx|cz|de|dk|fo|com\.ec|tm\.fr|com\.fr|asso\.fr|presse\.fr|fr|gf|gs|co\.il|net\.il|ac\.il|k12\.il|gov\.il|muni\.il|ac\.in|co\.in|org\.in|ernet\.in|gov\.in|net\.in|res\.in|is|it|ac\.jp|co\.jp|go\.jp|or\.jp|ne\.jp|ac\.kr|co\.kr|go\.kr|ne\.kr|nm\.kr|or\.kr|li|lt|lu|asso\.mc|tm\.mc|com\.mm|org\.mm|net\.mm|edu\.mm|gov\.mm|ms|nl|no|nu|pl|ro|org\.ro|store\.ro|tm\.ro|firm\.ro|www\.ro|arts\.ro|rec\.ro|info\.ro|nom\.ro|nt\.ro|se|si|com\.sg|org\.sg|net\.sg|gov\.sg|sk|st|tf|ac\.th|co\.th|go\.th|mi\.th|net\.th|or\.th|tm|to|com\.tr|edu\.tr|gov\.tr|k12\.tr|net\.tr|org\.tr|com\.tw|org\.tw|net\.tw|ac\.uk|uk\.com|uk\.net|gb\.com|gb\.net|vg|sh|kz|ch|info|ua|gov|name|pro|ie|hk|com\.hk|org\.hk|net\.hk|edu\.hk|us|tk|cd|by|ad|lv|eu\.lv|bz|es|jp|cl|ag|mobi|eu|co\.nz|org\.nz|net\.nz|maori\.nz|iwi\.nz|io|la|md|sc|sg|vc|tw|travel|my|se|tv|pt|com\.pt|edu\.pt|asia|fi|com\.ve|net\.ve|fi|org\.ve|web\.ve|info\.ve|co\.ve|tel|im|gr|ru|net\.ru|org\.ru|hr|com\.hr|ly|xyz|so)$/)},
w=function(a,b){var c=a.charAt(0),e=b.split(c);if(c===a)return e;a=parseInt(a.substring(1),10);return e[0>a?e.length+a:a-1]},A=function(a,b){for(var c=a.charAt(0),e=b.split("&"),f=[],i={},j=[],k=a.substring(1),l=0,m=e.length;l<m;l++)if((f=e[l].match(/(.*?)=(.*)/))||(f=[e[l],e[l],""]),""!==f[1].replace(/\s/g,"")){f[2]=decodeURIComponent((f[2]||"").replace(/\+/g," "));if(k===f[1])return f[2];(j=f[1].match(/(.*)\[([0-9]+)\]/))?(i[j[1]]=i[j[1]]||[],i[j[1]][j[2]]=f[2]):i[f[1]]=f[2]}return c===a?i:i[k]};
c.url=function(a,b){var c={},e;if("tld?"===a)return v();b=b||(j.location||"").toString();if(!a)return b;a=a.toString();if(e=b.match(/^mailto:([^\/].+)/))c.protocol="mailto",c.email=e[1];else{if(e=b.match(/(.*?)\/#\!(.*)/))b=e[1]+e[2];if(e=b.match(/(.*?)#(.*)/))c.hash=e[2],b=e[1];if(c.hash&&a.match(/^#/))return A(a,c.hash);if(e=b.match(/(.*?)\?(.*)/))c.query=e[2],b=e[1];if(c.query&&a.match(/^\?/))return A(a,c.query);if(e=b.match(/(.*?)\:?\/\/(.*)/))c.protocol=e[1].toLowerCase(),b=e[2];if(e=b.match(/(.*?)(\/.*)/))c.path=
e[2],b=e[1];c.path=(c.path||"").replace(/^([^\/])/,"/$1").replace(/\/$/,"");a.match(/^[\-0-9]+$/)&&(a=a.replace(/^([^\/])/,"/$1"));if(a.match(/^\//))return w(a,c.path.substring(1));if((e=w("/-1",c.path.substring(1)))&&(e=e.match(/(.*?)\.(.*)/)))c.file=e[0],c.filename=e[1],c.fileext=e[2];if(e=b.match(/(.*)\:([0-9]+)$/))c.port=e[2],b=e[1];if(e=b.match(/(.*?)@(.*)/))c.auth=e[1],b=e[2];c.auth&&(e=c.auth.match(/(.*)\:(.*)/),c.user=e?e[1]:c.auth,c.pass=e?e[2]:void 0);c.hostname=b.toLowerCase();if("."===
a.charAt(0))return w(a,c.hostname);if(v()&&(e=c.hostname.match(v())))c.tld=e[3],c.domain=e[2]?e[2]+"."+e[3]:void 0,c.sub=e[1]||void 0;c.port=c.port||("https"===c.protocol?"443":"80");c.protocol=c.protocol||("443"===c.port?"https":"http")}if(a in c)return c[a];if("{}"===a)return c};return c})(function(){var j;try{j=window}catch(c){try{j=global}catch(n){throw"find not global";}}return j}());
//@ sourceMappingURL=cjb-base.js.map
//# sourceMappingURL=cjb-base.js.map